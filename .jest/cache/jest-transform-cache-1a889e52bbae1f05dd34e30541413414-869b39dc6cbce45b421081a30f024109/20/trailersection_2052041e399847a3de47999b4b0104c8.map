{"version":3,"sources":["D:\\GitHub\\silksong-nextjs\\components\\trailer-section.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef } from 'react';\r\nimport { ChevronLeft, ChevronRight, ExternalLink } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useMediaQuery } from '@/hooks/use-media-query';\r\n\r\ninterface Trailer {\r\n  id: string;\r\n  title: string;\r\n  url: string;\r\n}\r\n\r\nconst trailers: Trailer[] = [\r\n  {\r\n    id: \"6XGeJwsUP9c\",\r\n    title: \"Hollow Knight: Silksong - Release Trailer\",\r\n    url: \"https://www.youtube.com/embed/6XGeJwsUP9c\"\r\n  },\r\n  {\r\n    id: \"hHnI6nlfE2A\",\r\n    title: \"Hollow Knight: Silksong - We've Played It! | gamescom 2025\",\r\n    url: \"https://www.youtube.com/embed/hHnI6nlfE2A\"\r\n  },\r\n  {\r\n    id: \"pFAknD_9U7c\",\r\n    title: \"Hollow Knight: Silksong Reveal Trailer\",\r\n    url: \"https://www.youtube.com/embed/pFAknD_9U7c\"\r\n  },\r\n  {\r\n    id: \"Y8lvHT_IQbM\",\r\n    title: \"Hollow Knight: Silksong Gameplay - Nintendo Treehouse: Live | E3 2019\",\r\n    url: \"https://www.youtube.com/embed/Y8lvHT_IQbM?start=428\"\r\n  },\r\n  {\r\n    id: \"Gv6CRPqkpuU\",\r\n    title: \"Hollow Knight: Silksong - Details from Team Cherry\",\r\n    url: \"https://www.youtube.com/embed/Gv6CRPqkpuU?start=9\"\r\n  }\r\n];\r\n\r\nexport function TrailerSection() {\r\n  const [currentTrailer, setCurrentTrailer] = useState(0);\r\n  const isMobile = useMediaQuery(\"(max-width: 768px)\");\r\n  const touchStartX = useRef<number>(0);\r\n  const touchStartY = useRef<number>(0);\r\n  const touchEndX = useRef<number>(0);\r\n  const isDragging = useRef<boolean>(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const nextTrailer = () => {\r\n    setCurrentTrailer((prev) => (prev + 1) % trailers.length);\r\n  };\r\n\r\n  const prevTrailer = () => {\r\n    setCurrentTrailer((prev) => (prev - 1 + trailers.length) % trailers.length);\r\n  };\r\n\r\n  // Touch event handlers for mobile swipe\r\n  const handleTouchStart = (e: React.TouchEvent) => {\r\n    touchStartX.current = e.touches[0].clientX;\r\n    touchStartY.current = e.touches[0].clientY;\r\n    isDragging.current = false;\r\n  };\r\n\r\n  const handleTouchMove = (e: React.TouchEvent) => {\r\n    const currentX = e.touches[0].clientX;\r\n    const currentY = e.touches[0].clientY;\r\n    const dx = currentX - touchStartX.current;\r\n    const dy = currentY - touchStartY.current;\r\n\r\n    if (!isDragging.current) {\r\n      isDragging.current = true;\r\n    }\r\n\r\n    // Prevent vertical scrolling if horizontal swipe is detected\r\n    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 10) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    touchEndX.current = currentX;\r\n  };\r\n\r\n  const handleTouchEnd = () => {\r\n    if (!isDragging.current) return;\r\n    const deltaX = touchStartX.current - touchEndX.current;\r\n\r\n    // Higher threshold for mobile swipe\r\n    const minSwipeDistance = isMobile ? 80 : 60;\r\n\r\n    if (Math.abs(deltaX) > minSwipeDistance) {\r\n      if (deltaX > 0) {\r\n        nextTrailer();\r\n      } else {\r\n        prevTrailer();\r\n      }\r\n    }\r\n\r\n    isDragging.current = false;\r\n  };\r\n\r\n  return (\r\n    <section className=\"py-24\">\r\n      <div className=\"container mx-auto px-6\">\r\n        <div className=\"text-center max-w-4xl mx-auto\">\r\n          <h2 className=\"text-4xl md:text-5xl font-bold font-poppins text-foreground mb-6\">\r\n            Experience the World of Silksong\r\n          </h2>\r\n          <p className=\"text-xl text-muted-foreground mb-12\">\r\n            Watch official trailers and gameplay footage from the highly anticipated sequel.\r\n          </p>\r\n\r\n          <div className=\"space-y-6\">\r\n            {/* Video Player with Carousel */}\r\n            <div \r\n              ref={containerRef}\r\n              className=\"relative aspect-video bg-slate-900/50 backdrop-blur-sm rounded-lg border border-border/50 overflow-hidden shadow-2xl\"\r\n            >\r\n              {/* Swipe overlay on mobile to capture gestures above iframe */}\r\n              {isMobile && (\r\n                <div\r\n                  className=\"absolute inset-0 z-10 touch-pan-y\"\r\n                  onTouchStart={handleTouchStart}\r\n                  onTouchMove={handleTouchMove}\r\n                  onTouchEnd={handleTouchEnd}\r\n                  aria-label=\"Swipe to change trailer\"\r\n                />\r\n              )}\r\n              \r\n              <iframe \r\n                key={trailers[currentTrailer].id}\r\n                src={trailers[currentTrailer].url} \r\n                className=\"w-full h-full rounded-lg transition-opacity duration-300\"\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                allowFullScreen\r\n                title={trailers[currentTrailer].title}\r\n              />\r\n              \r\n              {/* Navigation Arrows */}\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={prevTrailer}\r\n                className=\"absolute z-20 left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white border-0 shadow-lg\"\r\n                aria-label=\"Previous trailer\"\r\n              >\r\n                <ChevronLeft className=\"w-6 h-6\" />\r\n              </Button>\r\n              \r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={nextTrailer}\r\n                className=\"absolute z-20 right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white border-0 shadow-lg\"\r\n                aria-label=\"Next trailer\"\r\n              >\r\n                <ChevronRight className=\"w-6 h-6\" />\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Trailer Title */}\r\n            <div className=\"text-center\">\r\n              <h3 className=\"text-xl md:text-2xl font-semibold text-foreground mb-2\">\r\n                {trailers[currentTrailer].title}\r\n              </h3>\r\n            </div>\r\n\r\n            {/* Dots Indicator */}\r\n            <div className=\"flex justify-center space-x-2\">\r\n              {trailers.map((_, index) => (\r\n                <button\r\n                  key={index}\r\n                  onClick={() => setCurrentTrailer(index)}\r\n                  className={`w-3 h-3 rounded-full transition-all duration-200 ${\r\n                    index === currentTrailer \r\n                      ? 'bg-primary scale-125' \r\n                      : 'bg-muted hover:bg-muted-foreground/50 hover:scale-110'\r\n                  }`}\r\n                  aria-label={`Go to trailer ${index + 1}`}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {/* Additional Links */}\r\n            <div className=\"flex flex-wrap justify-center gap-4 mt-8\">\r\n              <Button variant=\"outline\" asChild>\r\n                <a \r\n                  href={`https://www.youtube.com/watch?v=${trailers[currentTrailer].id}`}\r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  <ExternalLink className=\"w-4 h-4\" />\r\n                  Watch on YouTube\r\n                </a>\r\n              </Button>\r\n              <Button variant=\"outline\" asChild>\r\n                <a \r\n                  href=\"https://teamcherry.com.au/\" \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  <ExternalLink className=\"w-4 h-4\" />\r\n                  Official Website\r\n                </a>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}"],"names":["TrailerSection","trailers","id","title","url","currentTrailer","setCurrentTrailer","useState","isMobile","useMediaQuery","touchStartX","useRef","touchStartY","touchEndX","isDragging","containerRef","nextTrailer","prev","length","prevTrailer","handleTouchStart","e","current","touches","clientX","clientY","handleTouchMove","currentX","currentY","dx","dy","Math","abs","preventDefault","handleTouchEnd","deltaX","minSwipeDistance","section","className","div","h2","p","ref","onTouchStart","onTouchMove","onTouchEnd","aria-label","iframe","src","allow","allowFullScreen","Button","variant","size","onClick","ChevronLeft","ChevronRight","h3","map","_","index","button","asChild","a","href","target","rel","ExternalLink"],"mappings":"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"}