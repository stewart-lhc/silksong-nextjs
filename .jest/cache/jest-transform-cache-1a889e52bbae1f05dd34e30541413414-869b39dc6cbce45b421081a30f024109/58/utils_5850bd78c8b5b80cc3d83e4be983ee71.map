{"version":3,"sources":["D:\\GitHub\\silksong-nextjs\\lib\\utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\n/**\r\n * 合并 Tailwind CSS 类名的工具函数\r\n * 使用 clsx 处理条件类名，twMerge 处理冲突的 Tailwind 类\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * 格式化错误消息的工具函数\r\n * @param error - 错误对象\r\n * @returns 格式化的错误消息\r\n */\r\nexport function formatError(error: unknown): string {\r\n  if (error instanceof Error) {\r\n    return error.message\r\n  }\r\n  return String(error)\r\n}\r\n\r\n/**\r\n * 延迟执行的工具函数\r\n * @param ms - 延迟时间（毫秒）\r\n * @returns Promise\r\n */\r\nexport function delay(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\n/**\r\n * 生成随机 ID 的工具函数\r\n * @param length - ID 长度\r\n * @returns 随机字符串\r\n */\r\nexport function generateId(length: number = 8): string {\r\n  return Math.random().toString(36).substring(2, length + 2)\r\n}\r\n\r\n/**\r\n * 格式化日期的工具函数\r\n * @param date - 日期对象或字符串\r\n * @param locale - 区域设置\r\n * @returns 格式化的日期字符串\r\n */\r\nexport function formatDate(date: Date | string, locale: string = 'zh-CN'): string {\r\n  const dateObj = typeof date === 'string' ? new Date(date) : date\r\n  return dateObj.toLocaleDateString(locale)\r\n}\r\n\r\n/**\r\n * 截断文本的工具函数\r\n * @param text - 原始文本\r\n * @param maxLength - 最大长度\r\n * @param suffix - 后缀\r\n * @returns 截断后的文本\r\n */\r\nexport function truncateText(text: string, maxLength: number, suffix: string = '...'): string {\r\n  if (text.length <= maxLength) return text\r\n  return text.substring(0, maxLength - suffix.length) + suffix\r\n}\r\n\r\n/**\r\n * 深度复制对象的工具函数\r\n * @param obj - 要复制的对象\r\n * @returns 复制后的对象\r\n */\r\nexport function deepClone<T>(obj: T): T {\r\n  return JSON.parse(JSON.stringify(obj))\r\n}\r\n\r\n/**\r\n * 防抖函数\r\n * @param func - 要防抖的函数\r\n * @param wait - 等待时间\r\n * @returns 防抖后的函数\r\n */\r\nexport function debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout | null = null\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    if (timeout) clearTimeout(timeout)\r\n    timeout = setTimeout(() => func(...args), wait)\r\n  }\r\n}\r\n\r\n/**\r\n * 节流函数\r\n * @param func - 要节流的函数\r\n * @param limit - 限制时间\r\n * @returns 节流后的函数\r\n */\r\nexport function throttle<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  limit: number\r\n): (...args: Parameters<T>) => void {\r\n  let inThrottle: boolean = false\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    if (!inThrottle) {\r\n      func(...args)\r\n      inThrottle = true\r\n      setTimeout(() => inThrottle = false, limit)\r\n    }\r\n  }\r\n}"],"names":["cn","debounce","deepClone","delay","formatDate","formatError","generateId","throttle","truncateText","inputs","twMerge","clsx","error","Error","message","String","ms","Promise","resolve","setTimeout","length","Math","random","toString","substring","date","locale","dateObj","Date","toLocaleDateString","text","maxLength","suffix","obj","JSON","parse","stringify","func","wait","timeout","args","clearTimeout","limit","inThrottle"],"mappings":";;;;;;;;;;;QAOgBA;eAAAA;;QAwEAC;eAAAA;;QAVAC;eAAAA;;QAzCAC;eAAAA;;QAmBAC;eAAAA;;QA/BAC;eAAAA;;QAqBAC;eAAAA;;QA4DAC;eAAAA;;QAtCAC;eAAAA;;;sBA3DsB;+BACd;AAMjB,SAASR,GAAG,GAAGS,MAAoB;IACxC,OAAOC,IAAAA,sBAAO,EAACC,IAAAA,UAAI,EAACF;AACtB;AAOO,SAASJ,YAAYO,KAAc;IACxC,IAAIA,iBAAiBC,OAAO;QAC1B,OAAOD,MAAME,OAAO;IACtB;IACA,OAAOC,OAAOH;AAChB;AAOO,SAAST,MAAMa,EAAU;IAC9B,OAAO,IAAIC,QAAQC,CAAAA,UAAWC,WAAWD,SAASF;AACpD;AAOO,SAASV,WAAWc,SAAiB,CAAC;IAC3C,OAAOC,KAAKC,MAAM,GAAGC,QAAQ,CAAC,IAAIC,SAAS,CAAC,GAAGJ,SAAS;AAC1D;AAQO,SAAShB,WAAWqB,IAAmB,EAAEC,SAAiB,OAAO;IACtE,MAAMC,UAAU,OAAOF,SAAS,WAAW,IAAIG,KAAKH,QAAQA;IAC5D,OAAOE,QAAQE,kBAAkB,CAACH;AACpC;AASO,SAASlB,aAAasB,IAAY,EAAEC,SAAiB,EAAEC,SAAiB,KAAK;IAClF,IAAIF,KAAKV,MAAM,IAAIW,WAAW,OAAOD;IACrC,OAAOA,KAAKN,SAAS,CAAC,GAAGO,YAAYC,OAAOZ,MAAM,IAAIY;AACxD;AAOO,SAAS9B,UAAa+B,GAAM;IACjC,OAAOC,KAAKC,KAAK,CAACD,KAAKE,SAAS,CAACH;AACnC;AAQO,SAAShC,SACdoC,IAAO,EACPC,IAAY;IAEZ,IAAIC,UAAiC;IAErC,OAAO,CAAC,GAAGC;QACT,IAAID,SAASE,aAAaF;QAC1BA,UAAUpB,WAAW,IAAMkB,QAAQG,OAAOF;IAC5C;AACF;AAQO,SAAS/B,SACd8B,IAAO,EACPK,KAAa;IAEb,IAAIC,aAAsB;IAE1B,OAAO,CAAC,GAAGH;QACT,IAAI,CAACG,YAAY;YACfN,QAAQG;YACRG,aAAa;YACbxB,WAAW,IAAMwB,aAAa,OAAOD;QACvC;IACF;AACF"}