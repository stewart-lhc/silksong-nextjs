{"version":3,"sources":["D:\\GitHub\\silksong-nextjs\\jest.setup.js"],"sourcesContent":["/**\r\n * Jest Setup for Silk Song Archive Next.js\r\n * Global test configuration and custom matchers\r\n */\r\n\r\nimport '@testing-library/jest-dom';\r\n\r\n// ===== ENVIRONMENT VARIABLES =====\r\n\r\n// Mock environment variables for testing\r\nprocess.env.NODE_ENV = 'test';\r\nprocess.env.NEXT_PUBLIC_APP_URL = 'http://localhost:3000';\r\nprocess.env.NEXT_PUBLIC_APP_NAME = 'Silk Song Archive Test';\r\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';\r\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-anon-key';\r\n\r\n// ===== GLOBAL MOCKS =====\r\n\r\n// Mock Next.js router\r\njest.mock('next/router', () => ({\r\n  useRouter: jest.fn(() => ({\r\n    route: '/',\r\n    pathname: '/',\r\n    query: {},\r\n    asPath: '/',\r\n    push: jest.fn(),\r\n    replace: jest.fn(),\r\n    reload: jest.fn(),\r\n    back: jest.fn(),\r\n    forward: jest.fn(),\r\n    prefetch: jest.fn().mockResolvedValue(undefined),\r\n    beforePopState: jest.fn(),\r\n    events: {\r\n      on: jest.fn(),\r\n      off: jest.fn(),\r\n      emit: jest.fn(),\r\n    },\r\n    isFallback: false,\r\n    isLocaleDomain: false,\r\n    isReady: true,\r\n    defaultLocale: 'en',\r\n    domainLocales: [],\r\n    isPreview: false,\r\n  })),\r\n}));\r\n\r\n// Mock Next.js navigation (App Router)\r\njest.mock('next/navigation', () => ({\r\n  useRouter: jest.fn(() => ({\r\n    push: jest.fn(),\r\n    replace: jest.fn(),\r\n    refresh: jest.fn(),\r\n    back: jest.fn(),\r\n    forward: jest.fn(),\r\n    prefetch: jest.fn(),\r\n  })),\r\n  usePathname: jest.fn(() => '/'),\r\n  useSearchParams: jest.fn(() => new URLSearchParams()),\r\n  useParams: jest.fn(() => ({})),\r\n}));\r\n\r\n// Mock Next.js dynamic imports\r\njest.mock('next/dynamic', () => (func) => {\r\n  const dynamicModule = func();\r\n  const MockedComponent = (props) => {\r\n    return React.createElement('div', props, 'Mocked Dynamic Component');\r\n  };\r\n  MockedComponent.displayName = 'MockedDynamicComponent';\r\n  return MockedComponent;\r\n});\r\n\r\n// Mock Next.js Image component\r\njest.mock('next/image', () => {\r\n  const MockedImage = ({ src, alt, ...props }) => {\r\n    // eslint-disable-next-line @next/next/no-img-element, jsx-a11y/alt-text\r\n    return React.createElement('img', { src, alt, ...props });\r\n  };\r\n  MockedImage.displayName = 'NextImage';\r\n  return MockedImage;\r\n});\r\n\r\n// Mock Next.js Link component\r\njest.mock('next/link', () => {\r\n  const MockedLink = ({ children, href, ...props }) => {\r\n    return React.createElement('a', { href, ...props }, children);\r\n  };\r\n  MockedLink.displayName = 'NextLink';\r\n  return MockedLink;\r\n});\r\n\r\n// Mock Framer Motion\r\njest.mock('framer-motion', () => ({\r\n  motion: {\r\n    div: 'div',\r\n    section: 'section',\r\n    article: 'article',\r\n    header: 'header',\r\n    footer: 'footer',\r\n    nav: 'nav',\r\n    main: 'main',\r\n    aside: 'aside',\r\n    h1: 'h1',\r\n    h2: 'h2',\r\n    h3: 'h3',\r\n    h4: 'h4',\r\n    h5: 'h5',\r\n    h6: 'h6',\r\n    p: 'p',\r\n    span: 'span',\r\n    a: 'a',\r\n    button: 'button',\r\n    img: 'img',\r\n    ul: 'ul',\r\n    ol: 'ol',\r\n    li: 'li',\r\n    form: 'form',\r\n    input: 'input',\r\n    textarea: 'textarea',\r\n    select: 'select',\r\n    option: 'option',\r\n  },\r\n  AnimatePresence: ({ children }) => children,\r\n  useAnimation: () => ({\r\n    start: jest.fn(),\r\n    stop: jest.fn(),\r\n    set: jest.fn(),\r\n  }),\r\n  useInView: () => true,\r\n  useScroll: () => ({ scrollYProgress: { get: () => 0 } }),\r\n  useSpring: (value) => ({ get: () => value }),\r\n  useTransform: (value, input, output) => ({ get: () => output[0] }),\r\n  useMotionValue: (initial) => ({ get: () => initial, set: jest.fn() }),\r\n}));\r\n\r\n// Mock Intersection Observer\r\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\r\n  observe: jest.fn(),\r\n  unobserve: jest.fn(),\r\n  disconnect: jest.fn(),\r\n  root: null,\r\n  rootMargin: '',\r\n  thresholds: [],\r\n}));\r\n\r\n// Mock ResizeObserver\r\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\r\n  observe: jest.fn(),\r\n  unobserve: jest.fn(),\r\n  disconnect: jest.fn(),\r\n}));\r\n\r\n// Mock matchMedia\r\nObject.defineProperty(window, 'matchMedia', {\r\n  writable: true,\r\n  value: jest.fn().mockImplementation((query) => ({\r\n    matches: false,\r\n    media: query,\r\n    onchange: null,\r\n    addListener: jest.fn(), // deprecated\r\n    removeListener: jest.fn(), // deprecated\r\n    addEventListener: jest.fn(),\r\n    removeEventListener: jest.fn(),\r\n    dispatchEvent: jest.fn(),\r\n  })),\r\n});\r\n\r\n// Mock scrollTo\r\nObject.defineProperty(window, 'scrollTo', {\r\n  writable: true,\r\n  value: jest.fn(),\r\n});\r\n\r\n// Mock localStorage\r\nObject.defineProperty(window, 'localStorage', {\r\n  value: {\r\n    getItem: jest.fn((key) => null),\r\n    setItem: jest.fn(),\r\n    removeItem: jest.fn(),\r\n    clear: jest.fn(),\r\n    length: 0,\r\n    key: jest.fn(),\r\n  },\r\n  writable: true,\r\n});\r\n\r\n// Mock sessionStorage\r\nObject.defineProperty(window, 'sessionStorage', {\r\n  value: {\r\n    getItem: jest.fn((key) => null),\r\n    setItem: jest.fn(),\r\n    removeItem: jest.fn(),\r\n    clear: jest.fn(),\r\n    length: 0,\r\n    key: jest.fn(),\r\n  },\r\n  writable: true,\r\n});\r\n\r\n// ===== SUPABASE MOCKS =====\r\n\r\n// Mock Supabase client\r\njest.mock('@/lib/supabase/client', () => ({\r\n  supabase: {\r\n    from: jest.fn(() => ({\r\n      select: jest.fn().mockReturnThis(),\r\n      insert: jest.fn().mockReturnThis(),\r\n      update: jest.fn().mockReturnThis(),\r\n      delete: jest.fn().mockReturnThis(),\r\n      eq: jest.fn().mockReturnThis(),\r\n      neq: jest.fn().mockReturnThis(),\r\n      gt: jest.fn().mockReturnThis(),\r\n      gte: jest.fn().mockReturnThis(),\r\n      lt: jest.fn().mockReturnThis(),\r\n      lte: jest.fn().mockReturnThis(),\r\n      like: jest.fn().mockReturnThis(),\r\n      ilike: jest.fn().mockReturnThis(),\r\n      is: jest.fn().mockReturnThis(),\r\n      in: jest.fn().mockReturnThis(),\r\n      contains: jest.fn().mockReturnThis(),\r\n      containedBy: jest.fn().mockReturnThis(),\r\n      range: jest.fn().mockReturnThis(),\r\n      match: jest.fn().mockReturnThis(),\r\n      not: jest.fn().mockReturnThis(),\r\n      or: jest.fn().mockReturnThis(),\r\n      filter: jest.fn().mockReturnThis(),\r\n      order: jest.fn().mockReturnThis(),\r\n      limit: jest.fn().mockReturnThis(),\r\n      offset: jest.fn().mockReturnThis(),\r\n      single: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n      maybeSingle: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n      then: jest.fn().mockResolvedValue({ data: [], error: null }),\r\n    })),\r\n    auth: {\r\n      getSession: jest.fn().mockResolvedValue({ data: { session: null }, error: null }),\r\n      getUser: jest.fn().mockResolvedValue({ data: { user: null }, error: null }),\r\n      signOut: jest.fn().mockResolvedValue({ error: null }),\r\n      onAuthStateChange: jest.fn(() => ({ data: { subscription: { unsubscribe: jest.fn() } } })),\r\n    },\r\n    storage: {\r\n      from: jest.fn(() => ({\r\n        upload: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n        download: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n        remove: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n        list: jest.fn().mockResolvedValue({ data: [], error: null }),\r\n        getPublicUrl: jest.fn(() => ({ data: { publicUrl: 'https://example.com/file.jpg' } })),\r\n      })),\r\n    },\r\n  },\r\n  executeQuery: jest.fn().mockResolvedValue({}),\r\n  SupabaseQueryError: jest.fn().mockImplementation((message) => {\r\n    const error = new Error(message);\r\n    error.name = 'SupabaseQueryError';\r\n    return error;\r\n  }),\r\n}));\r\n\r\n// ===== REACT QUERY MOCKS =====\r\n\r\n// Mock TanStack Query\r\njest.mock('@tanstack/react-query', () => ({\r\n  useQuery: jest.fn(() => ({\r\n    data: null,\r\n    error: null,\r\n    isLoading: false,\r\n    isError: false,\r\n    isSuccess: true,\r\n    refetch: jest.fn(),\r\n  })),\r\n  useMutation: jest.fn(() => ({\r\n    mutate: jest.fn(),\r\n    mutateAsync: jest.fn(),\r\n    isLoading: false,\r\n    isError: false,\r\n    isSuccess: false,\r\n    error: null,\r\n    data: null,\r\n    reset: jest.fn(),\r\n  })),\r\n  useQueryClient: jest.fn(() => ({\r\n    invalidateQueries: jest.fn(),\r\n    setQueryData: jest.fn(),\r\n    getQueryData: jest.fn(),\r\n    prefetchQuery: jest.fn(),\r\n    clear: jest.fn(),\r\n  })),\r\n  QueryClient: jest.fn(),\r\n  QueryClientProvider: ({ children }) => children,\r\n}));\r\n\r\n// ===== CUSTOM TEST UTILITIES =====\r\n\r\n// Custom render function with providers\r\nimport { render as rtlRender } from '@testing-library/react';\r\nimport { ThemeProvider } from 'next-themes';\r\n\r\nfunction render(ui, { ...renderOptions } = {}) {\r\n  function Wrapper({ children }) {\r\n    return (\r\n      <ThemeProvider attribute=\"class\" defaultTheme=\"light\" enableSystem>\r\n        {children}\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n  return rtlRender(ui, { wrapper: Wrapper, ...renderOptions });\r\n}\r\n\r\n// Re-export everything\r\nexport * from '@testing-library/react';\r\nexport { render };\r\n\r\n// ===== GLOBAL TEST HELPERS =====\r\n\r\n// Global test data factory\r\nglobal.createMockGameInfo = () => ({\r\n  id: '1',\r\n  title: 'Hollow Knight: Silksong',\r\n  developer: 'Team Cherry',\r\n  status: 'in-development',\r\n  releaseDate: null,\r\n  platforms: ['pc', 'steam', 'nintendo-switch'],\r\n  description: 'Test game description',\r\n  features: ['Test feature 1', 'Test feature 2'],\r\n});\r\n\r\nglobal.createMockUser = () => ({\r\n  id: '1',\r\n  email: 'test@example.com',\r\n  user_metadata: {\r\n    username: 'testuser',\r\n  },\r\n  created_at: new Date().toISOString(),\r\n});\r\n\r\n// ===== ERROR HANDLING =====\r\n\r\n// Suppress console warnings in tests unless explicitly needed\r\nconst originalConsoleError = console.error;\r\nconst originalConsoleWarn = console.warn;\r\n\r\nbeforeAll(() => {\r\n  console.error = (...args) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      args[0].includes('Warning: ReactDOM.render is no longer supported')\r\n    ) {\r\n      return;\r\n    }\r\n    originalConsoleError.call(console, ...args);\r\n  };\r\n\r\n  console.warn = (...args) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      (args[0].includes('componentWillReceiveProps') ||\r\n        args[0].includes('componentWillUpdate'))\r\n    ) {\r\n      return;\r\n    }\r\n    originalConsoleWarn.call(console, ...args);\r\n  };\r\n});\r\n\r\nafterAll(() => {\r\n  console.error = originalConsoleError;\r\n  console.warn = originalConsoleWarn;\r\n});\r\n\r\n// ===== CLEANUP =====\r\n\r\n// Clean up after each test\r\nafterEach(() => {\r\n  jest.clearAllMocks();\r\n});"],"names":["jest","mock","useRouter","fn","route","pathname","query","asPath","push","replace","reload","back","forward","prefetch","mockResolvedValue","undefined","beforePopState","events","on","off","emit","isFallback","isLocaleDomain","isReady","defaultLocale","domainLocales","isPreview","refresh","usePathname","useSearchParams","URLSearchParams","useParams","func","dynamicModule","MockedComponent","props","React","createElement","displayName","MockedImage","src","alt","MockedLink","children","href","motion","div","section","article","header","footer","nav","main","aside","h1","h2","h3","h4","h5","h6","p","span","a","button","img","ul","ol","li","form","input","textarea","select","option","AnimatePresence","useAnimation","start","stop","set","useInView","useScroll","scrollYProgress","get","useSpring","value","useTransform","output","useMotionValue","initial","supabase","from","mockReturnThis","insert","update","delete","eq","neq","gt","gte","lt","lte","like","ilike","is","in","contains","containedBy","range","match","not","or","filter","order","limit","offset","single","data","error","maybeSingle","then","auth","getSession","session","getUser","user","signOut","onAuthStateChange","subscription","unsubscribe","storage","upload","download","remove","list","getPublicUrl","publicUrl","executeQuery","SupabaseQueryError","mockImplementation","message","Error","name","useQuery","isLoading","isError","isSuccess","refetch","useMutation","mutate","mutateAsync","reset","useQueryClient","invalidateQueries","setQueryData","getQueryData","prefetchQuery","clear","QueryClient","QueryClientProvider","render","process","env","NODE_ENV","NEXT_PUBLIC_APP_URL","NEXT_PUBLIC_APP_NAME","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","global","IntersectionObserver","observe","unobserve","disconnect","root","rootMargin","thresholds","ResizeObserver","Object","defineProperty","window","writable","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","getItem","key","setItem","removeItem","length","ui","renderOptions","Wrapper","ThemeProvider","attribute","defaultTheme","enableSystem","rtlRender","wrapper","createMockGameInfo","id","title","developer","status","releaseDate","platforms","description","features","createMockUser","email","user_metadata","username","created_at","Date","toISOString","originalConsoleError","console","originalConsoleWarn","warn","beforeAll","args","includes","call","afterAll","afterEach","clearAllMocks"],"mappings":"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"}